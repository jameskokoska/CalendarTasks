(this.webpackJsonpgoogleycalendar=this.webpackJsonpgoogleycalendar||[]).push([[0],{42:function(e,t,a){e.exports=a.p+"static/media/info-circle-solid.d9a24d05.svg"},43:function(e,t,a){e.exports=a.p+"static/media/check-solid.e597acab.svg"},52:function(e,t,a){e.exports=a.p+"static/media/cog-solid.9f07a3df.svg"},53:function(e,t,a){e.exports=a.p+"static/media/sync-alt-solid.b1b03f76.svg"},58:function(e,t,a){e.exports=a(73)},63:function(e,t,a){},64:function(e){e.exports=JSON.parse('{"clientId":"1099462384404-gaec6ge925637k0bfm31c6mjpkp4v811.apps.googleusercontent.com","apiKey":"AIzaSyAB6PGv9S399WKGcR-QPKwnDJ95ev4zWto","scope":"https://www.googleapis.com/auth/calendar","discoveryDocs":["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]}')},66:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),o=a.n(s),l=(a(63),a(51)),c=a(12),i=a(13),d=a(14),u=a(16),h=a(15),p=a(10),m=a(6),f=a.n(m),g=(a(65),a(20)),b=a(47),v=a(9),y=a(46),O=a(105),C=a(45),D=a(44),E=(a(66),a(52)),k=a.n(E),I=a(53),j=a.n(I),S=a(42),w=a.n(S),N=a(43),T=a.n(N),x=(a(67),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).handleItemClick=n.handleItemClick.bind(Object(d.a)(n)),n.refreshWholeList=n.refreshWholeList.bind(Object(d.a)(n)),n.signUpdate=n.signUpdate.bind(Object(d.a)(n)),n.loadSyncData=n.loadSyncData.bind(Object(d.a)(n)),n.sortCalendarObjects=n.sortCalendarObjects.bind(Object(d.a)(n)),n.updateDone=n.updateDone.bind(Object(d.a)(n)),n.errorTimeoutOpen=n.errorTimeoutOpen.bind(Object(d.a)(n)),n.setCalendarID=n.setCalendarID.bind(Object(d.a)(n)),n.setCalendarID2=n.setCalendarID2.bind(Object(d.a)(n)),n.state={calendarObjects:"",signStatus:"",errorTimeoutOpen:!1},f.a.onLoad((function(){n.loadSyncData(),n.refreshWholeList(),f.a.listenSign(n.signUpdate),n.setState({signStatus:f.a.sign})})),n.courseColorsLight=["#ffcdd2","#e1bee7","#c5cae9","#b3e5fc","#b2dfdb","#dcedc8","#fff9c4","#ffe0b2","#d7ccc8","#cfd8dc"],n.courseColorsDark=["#cb9ca1","#af8eb5","#9499b7","#82b3c9","#82ada9","#aabb97","#cbc693","#cbae82","#a69b97","#9ea7aa"],n.courseColors=n.courseColorsLight;var r=(new Date).getHours();return(r>19||r<7)&&(document.documentElement.style.setProperty("--background","#121212"),document.documentElement.style.setProperty("--font-color","#fafafa"),document.documentElement.style.setProperty("--highlight","#9e9e9e25"),document.documentElement.style.setProperty("--accent","#1565c0c9"),document.documentElement.style.setProperty("--brightnessIcon","1"),n.courseColors=n.courseColorsDark),n}return Object(i.a)(a,[{key:"loadSyncData",value:function(){var e=this;p.a.getItem("calendarIDKey").then((function(t){void 0!==t&&""!==t&&void 0!==t?e.setState({calendarID:t}):e.setState({calendarID:"primary"})})),p.a.getItem("calendarIDKey2").then((function(t){void 0!==t&&""!==t&&void 0!==t?e.setState({calendarID2:t}):""===t?e.setState({calendarID2:e.state.calendarID}):e.setState({calendarID2:"primary"})})),p.a.getItem("numEventsKey").then((function(t){null!==t&&""!==t&&void 0!==t?e.setState({numEvents:t}):e.setState({numEvents:20})})),p.a.getItem("hoursBefore").then((function(t){null!==t&&""!==t&&void 0!==t?e.setState({hoursBefore:t}):e.setState({hoursBefore:0})})),p.a.getItem("lastSort").then((function(t){null!==t&&""!==t&&void 0!==t?e.setState({lastSort:t}):e.setState({lastSort:"sortDate"})})),p.a.getItem("nextWeekShow").then((function(t){null!==t&&""!==t&&void 0!==t?e.setState({nextWeekShow:t}):e.setState({nextWeekShow:7})}))}},{key:"signUpdate",value:function(){this.setState({signStatus:f.a.sign})}},{key:"setCalendarID",value:function(e){this.setState({calendarID:e})}},{key:"setCalendarID2",value:function(e){this.setState({calendarID2:e})}},{key:"componentDidMount",value:function(){this.loadSyncData()}},{key:"sortCalendarObjects",value:function(e){this.state.signStatus&&("sortName"===e?(p.a.setItem("lastSort","sortName"),this.setState({calendarObjects:_(this.state.calendarObjects)})):"sortDate"===e?(p.a.setItem("lastSort","sortDate"),this.setState({calendarObjects:Q(this.state.calendarObjects)})):"sortCourse"===e?(p.a.setItem("lastSort","sortCourse"),this.setState({calendarObjects:q(this.state.calendarObjects)})):"sortCheck"===e&&(p.a.setItem("lastSort","sortCheck"),this.setState({calendarObjects:Z(this.state.calendarObjects)})))}},{key:"handleItemClick",value:function(e,t){var a=this;if("signIn"===t)f.a.handleAuthClick();else if("signOut"===t)f.a.handleSignoutClick();else if("log"===t)f.a.sign&&F(10,this.state.hoursBefore).then((function(e){var t=e.result;console.log(t.items)}));else if("logStored"===t)console.log(this.state.calendarObjects);else if("changeName"===t)f.a.sign&&F(1,this.state.hoursBefore).then((function(e){var t=e.result,a={summary:"\u2714\ufe0f"+t.items[0].summary};f.a.updateEvent(a,t.items[0].id).then(console.log)}));else if("populate"===t)f.a.sign&&F(this.state.numEvents,this.state.hoursBefore).then((function(e){var t=e.result.items;a.setState({calendarObjects:t})}));else if("sortName"===t)this.sortCalendarObjects("sortName");else if("sortCourse"===t)this.sortCalendarObjects("sortCourse");else if("sortDate"===t)this.sortCalendarObjects("sortDate");else if("errorTimeoutOpen"===t)this.errorTimeoutOpen("Error Code");else if("addEvent"===t){var n={summary:"addTest",start:{dateTime:"2020-09-13T08:00:00-02:00"},end:{dateTime:"2020-09-13T08:00:00-04:00"},status:"confirmed"};f.a.sign&&(null!=this.state.calendarID?f.a.createEvent(n,this.state.calendarID):f.a.createEvent(n).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))}}},{key:"updateDone",value:function(e){for(var t=0;t<this.state.calendarObjects.length;t++)if(this.state.calendarObjects[t].id===e)return void(!0===this.state.calendarObjects[t].done?(this.state.calendarObjects[t].done=!1,this.setState({calendarObjects:this.state.calendarObjects})):(this.state.calendarObjects[t].done=!0,this.setState({calendarObjects:this.state.calendarObjects})))}},{key:"errorTimeoutOpen",value:function(e){this.setState({errorCode:e,errorTimeoutOpen:!0})}},{key:"refreshWholeList",value:function(){var e=this;this.loadSyncData(),""===this.state.calendarID||null===this.state.calendarID||void 0===this.state.calendarID?f.a.setCalendar("primary"):f.a.setCalendar(this.state.calendarID),f.a.sign&&F(this.state.numEvents,this.state.hoursBefore).then((function(t){for(var a=t.result.items,n=[],r=0;r<a.length;r++){var s;s="All day"===V(new Date(a[r].start.dateTime))?new Date(a[r].start.date):new Date(a[r].start.dateTime);var o=!1;"All day"===V(new Date(a[r].start.dateTime))?new Date(a[r].end.date)>(new Date).addDays(-1*(e.state.hoursBefore+24)/24)&&(o=!0):o=!0,s<(new Date).addDays(parseInt(e.state.nextWeekShow))&&o&&(void 0!==a[r].summary&&a[r].summary.length>=2&&"\u2714\ufe0f"===a[r].summary.substring(0,2)?a[r].done=!0:a[r].done=!1,a[r].calendarID=e.state.calendarID,n.push(a[r]))}e.setState({calendarObjects:n}),e.sortCalendarObjects(e.state.lastSort),e.state.calendarID2!==e.state.calendarID&&""!==e.state.calendarID2&&null!==e.state.calendarID2&&void 0!==e.state.calendarID2&&(f.a.setCalendar(e.state.calendarID2),f.a.sign&&F(e.state.numEvents,e.state.hoursBefore).then((function(t){for(var a=t.result.items,n=[],r=0;r<a.length;r++){var s;s="All day"===V(new Date(a[r].start.dateTime))?new Date(a[r].start.date):new Date(a[r].start.dateTime);var o=!1;"All day"===V(new Date(a[r].start.dateTime))?new Date(a[r].end.date)>(new Date).addDays(-1*(e.state.hoursBefore+24)/24)&&(o=!0):o=!0,s<(new Date).addDays(parseInt(e.state.nextWeekShow))&&o&&(void 0!==a[r].summary&&a[r].summary.length>=2&&"\u2714\ufe0f"===a[r].summary.substring(0,2)?(a[r].done=!0,a[r].calendarID=e.state.calendarID2):(a[r].done=!1,a[r].calendarID=e.state.calendarID2),n.push(a[r]),console.log(a[r].summary))}Array.prototype.push.apply(n,e.state.calendarObjects),e.setState({calendarObjects:n}),e.sortCalendarObjects(e.state.lastSort)})))}))}},{key:"render",value:function(){var e=this,t="none",a="none";return t=this.state.signStatus?"none":"",a=this.state.calendarObjects.length<=0&&this.state.signStatus?"":"none",r.a.createElement("div",{className:"screen"},r.a.createElement($,{content:"Tasks"}),r.a.createElement(P,{calendarObjects:this.state.calendarObjects,courseColors:this.courseColors,hoursBefore:this.state.hoursBefore,nextWeekShow:this.state.nextWeekShow,sortCalendarObjects:this.sortCalendarObjects,updateDone:this.updateDone,errorTimeoutOpen:this.errorTimeoutOpen}),r.a.createElement(K,{refreshWholeList:this.refreshWholeList,signStatus:this.state.signStatus,setCalendarID:this.setCalendarID,setCalendarID2:this.setCalendarID2}),r.a.createElement(H,{refreshWholeList:this.refreshWholeList,signStatus:this.state.signStatus}),r.a.createElement("div",{className:"alert alert-danger fadeIn",role:"alert",onClick:function(t){return e.handleItemClick(t,"signIn")},style:{display:t,animationDelay:"600ms",position:"fixed",bottom:"1%"}},"You are not signed-in. Sign-in in the settings, or click this message."),r.a.createElement("div",{className:"alert alert-warning fadeIn",role:"alert",style:{display:a,animationDelay:"600ms",position:"fixed",bottom:"1%"}},"There are no events for this calendar. Add some and refresh to view. If this is the first time loading, hit refresh!"),r.a.createElement(G,{errorTimeoutOpen:this.state.errorTimeoutOpen,errorCode:this.state.errorCode}),r.a.createElement(R,{calendarObjects:this.state.calendarObjects,nextWeekShow:this.state.nextWeekShow,courseColors:this.courseColors,updateDone:this.updateDone,errorTimeoutOpen:this.errorTimeoutOpen}))}}]),a}(r.a.Component));function A(e){var t,a=[];t=e.days>=7?7:e.days;for(var n=0;n<t;n++)a.push(r.a.createElement("th",{className:"weekday header3 fadeIn",style:{animationDelay:"1s"}},X((new Date).addDays(n))));return a}function W(e){var t,a=[];t=e.days>=7?7:e.days;for(var n=0;n<t;n++)a.push(r.a.createElement("td",null,r.a.createElement(B,Object(l.a)({calendarObjects:e.calendarObjects,dayOffset:n,courseColors:e.courseColors,updateDone:e.updateDone,errorTimeoutOpen:e.errorTimeoutOpen},"updateDone",e.updateDone))));return a}var L=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleItemClick=n.handleItemClick.bind(Object(d.a)(n)),n.state={checked:n.props.done},n}return Object(i.a)(a,[{key:"handleItemClick",value:function(e,t){var a=this;if(f.a.setCalendar(this.props.calendarIDCurrent),console.log(t),"checkOff"===t){if(f.a.sign)if(""!==this.props.course){var n={summary:"\u2714\ufe0f"+this.props.course+" "+this.props.name};f.a.updateEvent(n,this.props.id).then(this.props.updateDone(this.props.id)).catch((function(e){console.log("ERROR LOGGING!"+e),a.props.errorTimeoutOpen("Error 401/404")}))}else{var r={summary:"\u2714\ufe0f"+this.props.name};f.a.updateEvent(r,this.props.id).then(this.props.updateDone(this.props.id)).catch((function(e){console.log("ERROR LOGGING!"+e),a.props.errorTimeoutOpen("Error 401/404")}))}}else if("uncheckOff"===t&&f.a.sign)if(""!==this.props.course){var s={summary:this.props.course+" "+this.props.name};f.a.updateEvent(s,this.props.id).then(this.props.updateDone(this.props.id)).catch((function(e){console.log("ERROR LOGGING!"+e),a.props.errorTimeoutOpen("Error 401/404")}))}else{var o={summary:this.props.name};f.a.updateEvent(o,this.props.id).then(this.props.updateDone(this.props.id)).catch((function(e){console.log("ERROR LOGGING!"+e),a.props.errorTimeoutOpen("Error 401/404")}))}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"weekEntry fadeIn",style:{animationDelay:"0.7s"},onClick:function(t){return e.handleItemClick(t,e.props.clickActionCheck)}},r.a.createElement("div",{className:"weekEventLabel",style:{color:this.props.checkColor,textDecoration:this.props.textStyle,transition:"all 0.5s"}},this.props.name),r.a.createElement("div",{className:"weekTimeLabel"},this.props.timeStart+this.props.displayTimeEnd),r.a.createElement("div",{className:"courseBubble",style:{display:this.props.courseDisplay}},r.a.createElement("span",{style:{backgroundColor:this.props.courseColor}},this.props.course)),r.a.createElement(C.a,{placement:"bottom",overlay:r.a.createElement(D.a,null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.description}}))},r.a.createElement("img",{alt:"descriptions",className:"infoIconWeek",src:w.a,style:{display:this.props.descriptionDisplay}})))}}]),a}(r.a.Component),B=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.calendarObjects.length;t++){var a,n,s,o,l,c=Y(new Date(this.props.calendarObjects[t].start.dateTime)),i=Y(new Date(this.props.calendarObjects[t].end.dateTime));a="All day"===i?"":" - "+i;var d="none";""!==ae(this.props.calendarObjects[t].summary)?(o=(s=ae(this.props.calendarObjects[t].summary)).length>6?s.charCodeAt(0)+s.charCodeAt(1)+s.charCodeAt(2)+s.charCodeAt(3)+s.charCodeAt(4)+s.charCodeAt(5)+s.charCodeAt(6):s.charCodeAt(0)+s.charCodeAt(1)+s.charCodeAt(2)+s.charCodeAt(3)+s.charCodeAt(4)+s.charCodeAt(5),l=this.props.courseColors[o%this.props.courseColors.length],d=""):(s="",o=-1,l=""),n=te(this.props.calendarObjects[t].summary);var u="none";void 0!==this.props.calendarObjects[t].description&&null!==this.props.calendarObjects[t].description&&(u="");var h="none",p="checkOff",m="";!0===this.props.calendarObjects[t].done&&(h="line-through",p="uncheckOff",m="#777777"),(z(new Date(this.props.calendarObjects[t].start.dateTime),(new Date).addDays(this.props.dayOffset))||z(new Date(this.props.calendarObjects[t].end.date),(new Date).addDays(this.props.dayOffset)))&&e.push(r.a.createElement(L,{checkColor:m,textStyle:h,name:n,timeStart:c,displayTimeEnd:a,courseDisplay:d,courseColor:l,course:s,descriptionDisplay:u,description:this.props.calendarObjects[t].description,id:this.props.calendarObjects[t].id,updateDone:this.props.updateDone,calendarIDCurrent:this.props.calendarObjects[t].calendarID,done:this.props.calendarObjects[t].done,clickActionCheck:p}))}return e}}]),a}(r.a.Component),R=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"week"},r.a.createElement("div",{className:"weekTable"},r.a.createElement("table",{className:"weekList"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement(A,{days:this.props.nextWeekShow})),r.a.createElement("tr",null,r.a.createElement(W,{calendarObjects:this.props.calendarObjects,days:this.props.nextWeekShow,courseColors:this.props.courseColors,updateDone:this.props.updateDone,errorTimeoutOpen:this.props.errorTimeoutOpen}))))))}}]),a}(r.a.Component),G=(r.a.Component,function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"handleItemClick",value:function(e,t){"refreshPage"===t&&window.location.reload()}},{key:"render",value:function(){var e=this;return r.a.createElement(g.a,{show:this.props.errorTimeoutOpen,onHide:function(t){return e.handleItemClick(t,"refreshPage")},size:"lg"},r.a.createElement(g.a.Header,null,r.a.createElement(g.a.Title,null,"Connection has timed out")),r.a.createElement(g.a.Body,null,this.props.errorCode,r.a.createElement("p",null,"Please ",r.a.createElement("b",null,"reload the page"),", otherwise changes will not be saved!")),r.a.createElement(g.a.Footer,null,r.a.createElement(b.a,{variant:"outline-primary",onClick:function(t){return e.handleItemClick(t,"refreshPage")}},"Refresh")))}}]),a}(r.a.Component));function M(e){return r.a.createElement("div",{className:"button"},e.label)}r.a.Component;var H=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={show:!1},n}return Object(i.a)(a,[{key:"handleItemClick",value:function(e,t){"refresh"===t&&(this.props.refreshWholeList(),this.setState({show:!0}))}},{key:"render",value:function(){var e=this,t="";return t=this.props.signStatus?"Refreshed!":"You are not signed in!",r.a.createElement("div",null,r.a.createElement(y.a,{onClose:function(){return e.setState({show:!1})},show:this.state.show,delay:1500,autohide:!0,style:{position:"fixed",bottom:"0%",left:"1%"}},r.a.createElement(y.a.Header,null,r.a.createElement("strong",{className:"mr-auto"},t))),r.a.createElement("img",{alt:"refresh",onClick:function(t){return e.handleItemClick(t,"refresh")},src:j.a,className:"refreshIcon"}))}}]),a}(r.a.Component),K=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={settingsOpen:!1,signStatus:n.props.signStatus},n.loadInputs=n.loadInputs.bind(Object(d.a)(n)),n}return Object(i.a)(a,[{key:"handleItemClick",value:function(e,t){"openSettings"===t?(this.loadInputs(),this.setState({settingsOpen:!0})):"closeSettings"===t?(this.loadInputs(),this.props.refreshWholeList(),this.setState({settingsOpen:!1})):"signInOut"===t&&(this.props.signStatus?f.a.handleSignoutClick():f.a.handleAuthClick())}},{key:"loadInputs",value:function(){var e=this;p.a.getItem("calendarIDKey").then((function(t){p.a.getItem("calendarIDKey2").then((function(a){e.setState({calendarID:t,calendarID2:a}),e.props.setCalendarID(t),e.props.setCalendarID2(a)}))})),p.a.getItem("numEventsKey").then((function(t){null!==t&&void 0!==t&&""!==t?e.setState({numEvents:t}):e.setState({numEvents:20})})),p.a.getItem("hoursBefore").then((function(t){null!==t&&void 0!==t&&""!==t?e.setState({hoursBefore:t}):e.setState({hoursBefore:5})})),p.a.getItem("nextWeekShow").then((function(t){null!==t&&void 0!==t&&""!==t?e.setState({nextWeekShow:t}):e.setState({nextWeekShow:7})}))}},{key:"handleChange",value:function(e,t){"calendarID"===e.target.name?(p.a.setItem("calendarIDKey",e.target.value),this.props.setCalendarID(e.target.value)):"calendarID2"===e.target.name?(p.a.setItem("calendarIDKey2",e.target.value),this.props.setCalendarID2(e.target.value)):"numEvents"===e.target.name?p.a.setItem("numEventsKey",e.target.value):"hoursBefore"===e.target.name?p.a.setItem("hoursBefore",e.target.value):"nextWeekShow"===e.target.name&&p.a.setItem("nextWeekShow",e.target.value)}},{key:"render",value:function(){var e,t=this;return e=this.props.signStatus?"Logout":"Login",r.a.createElement("div",null,r.a.createElement("img",{alt:"open settings",onClick:function(e){return t.handleItemClick(e,"openSettings")},src:k.a,className:"settingsIcon"}),r.a.createElement(g.a,{show:this.state.settingsOpen,onHide:function(e){return t.handleItemClick(e,"closeSettings")},size:"lg"},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Settings")),r.a.createElement(g.a.Body,null,r.a.createElement(v.a,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Calendar ID"),r.a.createElement(v.a.Control,{name:"calendarID",onChange:function(e){t.handleChange(e,t.props)},placeholder:"example@group.calendar.google.com",defaultValue:this.state.calendarID}),r.a.createElement(v.a.Text,{className:"text-muted"},"By keeping this blank it will be the default calendar. Refresh webpage to see changes. To reset this field, remove everything and refresh the webpage.")),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Calendar ID 2"),r.a.createElement(v.a.Control,{name:"calendarID2",onChange:function(e){t.handleChange(e,t.props)},placeholder:"example2@group.calendar.google.com",defaultValue:this.state.calendarID2}),r.a.createElement(v.a.Text,{className:"text-muted"},"By keeping this blank, it will not attempt to load a second calendar. Refresh webpage to see changes.")),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Number of events to load"),r.a.createElement(v.a.Control,{name:"numEvents",onChange:function(e){t.handleChange(e,t.props)},placeholder:"20",defaultValue:this.state.numEvents}),r.a.createElement(v.a.Text,{className:"text-muted"},"The number of upcoming events to load from the calendar. Refresh to see changes.")),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Number of days to view"),r.a.createElement(v.a.Control,{name:"nextWeekShow",onChange:function(e){t.handleChange(e,t.props)},placeholder:"7",defaultValue:this.state.nextWeekShow}),r.a.createElement(v.a.Text,{className:"text-muted"},"Number of days to see events in the future. Set '",r.a.createElement("i",null,"Number of events to load"),"' to a high value to ensure all events are loaded for this time range. Refresh to see changes.")),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Number of hours before to load"),r.a.createElement(v.a.Control,{name:"hoursBefore",onChange:function(e){t.handleChange(e,t.props)},placeholder:"0",defaultValue:this.state.hoursBefore}),r.a.createElement(v.a.Text,{className:"text-muted"},"Number of hours before the current time to list events from. Refresh to see changes."))),r.a.createElement("p",null,r.a.createElement("b",null,"Course codes"),' have the following format; at the beginning of an event name: "XXX999" or "XXX9999". ',r.a.createElement("br",null),"3 letters followed by 3 or 4 numbers."),r.a.createElement("p",null,"You can sort each category by clicking each category header."),r.a.createElement("p",null,"Closing settings will load the calendar. A refresh is required once logged in for the first time!")),r.a.createElement(g.a.Footer,null,r.a.createElement("div",{onClick:function(e){return t.handleItemClick(e,"signInOut")},style:{left:"5px",position:"absolute"}},r.a.createElement(M,{label:e})),r.a.createElement(b.a,{variant:"secondary",onClick:function(e){return t.handleItemClick(e,"closeSettings")}},"Close"))))}}]),a}(r.a.Component),P=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"tasks"},r.a.createElement(U,{calendarObjects:this.props.calendarObjects,courseColors:this.props.courseColors,hoursBefore:this.props.hoursBefore,nextWeekShow:this.props.nextWeekShow,sortCalendarObjects:this.props.sortCalendarObjects,updateDone:this.props.updateDone,errorTimeoutOpen:this.props.errorTimeoutOpen}))}}]),a}(r.a.Component);function U(e){for(var t,a=[],n="",s="",o="",l=0;l<e.calendarObjects.length;l++){n=void 0!==e.calendarObjects[l].summary&&e.calendarObjects[l].summary.length>=2&&"\u2714\ufe0f"===e.calendarObjects[l].summary.substring(0,2)?e.calendarObjects[l].summary.substring(2):e.calendarObjects[l].summary;var c,i=V(new Date(e.calendarObjects[l].start.dateTime));"All day"===i?(i=V(new Date(e.calendarObjects[l].end.date)),c=new Date(e.calendarObjects[l].end.date)):c=new Date(e.calendarObjects[l].end.dateTime);var d=Y(new Date(e.calendarObjects[l].start.dateTime)),u=Y(new Date(e.calendarObjects[l].end.dateTime));""!==ae(e.calendarObjects[l].summary)?(t=(s=ae(e.calendarObjects[l].summary)).length>6?s.charCodeAt(0)+s.charCodeAt(1)+s.charCodeAt(2)+s.charCodeAt(3)+s.charCodeAt(4)+s.charCodeAt(5)+s.charCodeAt(6):s.charCodeAt(0)+s.charCodeAt(1)+s.charCodeAt(2)+s.charCodeAt(3)+s.charCodeAt(4)+s.charCodeAt(5),o=e.courseColors[t%e.courseColors.length],n=te(e.calendarObjects[l].summary)):(s="",t=-1,o=""),a.push(r.a.createElement(J,{name:n,date:i,timeStart:d,timeEnd:u,course:s,courseColor:o,done:e.calendarObjects[l].done,id:e.calendarObjects[l].id,hoursBefore:e.hoursBefore,nextWeekShow:e.nextWeekShow,updateDone:e.updateDone,calendarIDCurrent:e.calendarObjects[l].calendarID,description:e.calendarObjects[l].description,dateObjEnd:c,errorTimeoutOpen:e.errorTimeoutOpen}))}return r.a.createElement("div",{className:"taskTable"},r.a.createElement("table",{className:"taskList"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"course header3",onClick:function(t){e.sortCalendarObjects("sortCourse")}},r.a.createElement("div",{className:"hoverSort"},"Course")),r.a.createElement("th",{className:"check header3",onClick:function(t){e.sortCalendarObjects("sortCheck")}},r.a.createElement("div",{className:"hoverSort checkHeader"},r.a.createElement("img",{alt:"check checkHeader",src:T.a}))),r.a.createElement("th",{className:"task header3",onClick:function(t){e.sortCalendarObjects("sortName")}},r.a.createElement("div",{className:"hoverSort"},"Task")),r.a.createElement("th",{className:"date header3",onClick:function(t){e.sortCalendarObjects("sortDate")}},r.a.createElement("div",{className:"hoverSort"},"Date")),r.a.createElement("th",{className:"time header3",onClick:function(t){e.sortCalendarObjects("sortDate")}},r.a.createElement("div",{className:"hoverSort"},"Time"))),a)))}var J=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleItemClick=n.handleItemClick.bind(Object(d.a)(n)),n.state={checked:n.props.done},n}return Object(i.a)(a,[{key:"handleItemClick",value:function(e,t){var a=this;if(f.a.setCalendar(this.props.calendarIDCurrent),"checkOff"===t){if(f.a.sign)if(""!==this.props.course){var n={summary:"\u2714\ufe0f"+this.props.course+" "+this.props.name};f.a.updateEvent(n,this.props.id).then(this.props.updateDone(this.props.id)).catch((function(e){console.log("ERROR LOGGING!"+e),a.props.errorTimeoutOpen("Error 401/404")}))}else{var r={summary:"\u2714\ufe0f"+this.props.name};f.a.updateEvent(r,this.props.id).then(this.props.updateDone(this.props.id)).catch((function(e){console.log("ERROR LOGGING!"+e),a.props.errorTimeoutOpen("Error 401/404")}))}}else if("uncheckOff"===t&&f.a.sign)if(""!==this.props.course){var s={summary:this.props.course+" "+this.props.name};f.a.updateEvent(s,this.props.id).then(this.props.updateDone(this.props.id)).catch((function(e){console.log("ERROR LOGGING!"+e),a.props.errorTimeoutOpen("Error 401/404")}))}else{var o={summary:this.props.name};f.a.updateEvent(o,this.props.id).then(this.props.updateDone(this.props.id)).catch((function(e){console.log("ERROR LOGGING!"+e),a.props.errorTimeoutOpen("Error 401/404")}))}}},{key:"render",value:function(){var e=this,t="none",a="checkImg",n="",s="checkOff",o="#64b5f6",l="course";!0===this.props.done?(t="line-through",a+=" checkIn",n="#777777",s="uncheckOff"):a+=" checkOut",""!==this.props.courseColor?(o=this.props.courseColor,l="course"):(o="#64b5f6",l+=" courseNone");var c,i,d,u="none";return void 0!==this.props.description&&null!==this.props.description&&(u=""),"All day"===this.props.timeEnd&&!0===z(this.props.dateObjEnd)?(c="",i="unset"):this.props.dateObjEnd<Date.now()?(c="#c53f3f",i="bold"):(c="",i="unset"),d="All day"===this.props.timeEnd?"":" - "+this.props.timeEnd,r.a.createElement("tr",{className:"taskEntry fadeIn"},r.a.createElement("td",{className:l},this.props.course),r.a.createElement("td",{style:{backgroundColor:o},className:"check",onClick:function(t){return e.handleItemClick(t,s)}},r.a.createElement("img",{alt:"check",className:a,src:T.a})),r.a.createElement("td",{className:"task",style:{color:n,transition:"all 0.5s",position:"relative"}},r.a.createElement("div",{style:{textDecoration:t}},this.props.name),r.a.createElement(C.a,{placement:"bottom",overlay:r.a.createElement(D.a,null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.description}}))},r.a.createElement("img",{alt:"descriptions",className:"infoIcon",src:w.a,style:{display:u}}))),r.a.createElement("td",{className:"date",style:{color:c,fontWeight:i}},this.props.date),r.a.createElement("td",{className:"time"},this.props.timeStart,d))}}]),a}(r.a.Component);function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return e.getDay()===t.getDay()&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getYear()===t.getYear()}function X(e){var t="";return 0===e.getDay()?t="Sunday":1===e.getDay()?t="Monday":2===e.getDay()?t="Tuesday":3===e.getDay()?t="Wednesday":4===e.getDay()?t="Thursday":5===e.getDay()?t="Friday":6===e.getDay()&&(t="Saturday"),t}function V(e){if(isNaN(e.getMonth())&&isNaN(e.getDay())&&isNaN(e.getDate()))return"All day";var t=function(e){var t="";return 0===e.getMonth()?t="Jan.":1===e.getMonth()?t="Feb.":2===e.getMonth()?t="Mar.":3===e.getMonth()?t="Apr.":4===e.getMonth()?t="May":5===e.getMonth()?t="June":6===e.getMonth()?t="July":7===e.getMonth()?t="Aug.":8===e.getMonth()?t="Sept.":9===e.getMonth()?t="Oct.":10===e.getMonth()?t="Nov.":11===e.getMonth()&&(t="Dec."),t}(e);return X(e)+" "+t+" "+e.getDate()}function Y(e){if(isNaN(e.getHours())&&isNaN(e.getMinutes()))return"All day";var t=e.getMinutes();t<=9&&(t="0"+t);var a,n=e.getHours();return n>12?(n-=12,a="pm"):a="am","00"===t?n+" "+a:n+":"+t+" "+a}function $(e){return r.a.createElement("div",{className:"header1"},e.content)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.a.calendar,n=new Date;return n.setHours(n.getHours()-t),f.a.gapi?f.a.gapi.client.calendar.events.list({calendarId:a,timeMin:n.toISOString(),showDeleted:!1,singleEvents:!0,maxResults:e,orderBy:"startTime"}):(console.log("Error: this.gapi not loaded"),!1)}function _(e){var t=e;return t.sort((function(e,t){var a,n;return(a=void 0===te(e.summary)?"undefined":te(e.summary).toUpperCase())<(n=void 0===te(t.summary)?"undefined":te(t.summary).toUpperCase())?-1:a>n?1:0})),t}function q(e){var t=e;return t.sort((function(e,t){var a=ae(e.summary).toUpperCase(),n=ae(t.summary).toUpperCase();return a<n?-1:a>n?1:0})),t}function Q(e){var t=e;return t.sort((function(e,t){var a=ee(e.start),n=ee(t.start);return a<n?-1:a>n?1:0})),t}function Z(e){var t,a,n=e;return n.sort((function(e,n){return t=!0===e.done?"zdone":"notDone",a=!0===n.done?"zdone":"notDone",t<a?-1:t>a?1:0})),n}function ee(e){return void 0!==e.dateTime?new Date(e.dateTime).valueOf():void 0!==e.date?new Date(e.date).valueOf():0}function te(e){var t;return t=void 0!==e&&e.length>=2&&"\u2714\ufe0f"===e.substring(0,2)?e.substring(2):e,void 0!==e&&t.length>7&&/^\d+$/.test(t.substring(3,7))&&!/\d/.test(t.substring(0,3))?t=" "!==t.substring(7,8)?t.substring(7):t.substring(8):void 0!==e&&t.length>6&&/^\d+$/.test(t.substring(3,6))&&!/\d/.test(t.substring(0,3))&&(t=" "!==t.substring(6,7)?t.substring(6):t.substring(7)),t}function ae(e){var t;return t=void 0!==e&&e.length>=2&&"\u2714\ufe0f"===e.substring(0,2)?e.substring(2):e,void 0!==e&&t.length>7&&/^\d+$/.test(t.substring(3,7))&&!/\d/.test(t.substring(0,3))?t.substring(0,7):void 0!==e&&t.length>6&&/^\d+$/.test(t.substring(3,6))&&!/\d/.test(t.substring(0,3))?t.substring(0,6):""}Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.33496769.chunk.js.map
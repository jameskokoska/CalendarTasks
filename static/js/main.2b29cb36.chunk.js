(this.webpackJsonpgoogleycalendar=this.webpackJsonpgoogleycalendar||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/cog-solid.9f07a3df.svg"},35:function(e,t,a){e.exports=a.p+"static/media/sync-alt-solid.b1b03f76.svg"},37:function(e,t,a){e.exports=a(50)},42:function(e,t,a){},43:function(e){e.exports=JSON.parse('{"clientId":"1099462384404-gaec6ge925637k0bfm31c6mjpkp4v811.apps.googleusercontent.com","apiKey":"AIzaSyAB6PGv9S399WKGcR-QPKwnDJ95ev4zWto","scope":"https://www.googleapis.com/auth/calendar","discoveryDocs":["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]}')},45:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(17),o=a.n(r),l=(a(42),a(13)),c=a(14),i=a(11),u=a(19),d=a(18),h=a(7),m=a(6),g=a.n(m),f=a(22),p=a(36),b=a(8),v=a(32),y=(a(44),a(45),a(34)),C=a.n(y),O=a(35),E=a.n(O),j=(a(46),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).handleItemClick=n.handleItemClick.bind(Object(i.a)(n)),n.refreshWholeList=n.refreshWholeList.bind(Object(i.a)(n)),n.signUpdate=n.signUpdate.bind(Object(i.a)(n)),n.loadSyncData=n.loadSyncData.bind(Object(i.a)(n)),n.sortCalendarObjects=n.sortCalendarObjects.bind(Object(i.a)(n)),n.updateDone=n.updateDone.bind(Object(i.a)(n)),n.state={calendarObjects:"",signStatus:""},g.a.onLoad((function(){n.refreshWholeList(),g.a.listenSign(n.signUpdate),n.setState({signStatus:g.a.sign})})),n.courseColorsLight=["#ffcdd2","#e1bee7","#c5cae9","#b3e5fc","#b2dfdb","#dcedc8","#fff9c4","#ffe0b2","#d7ccc8","#cfd8dc"],n.courseColorsDark=["#cb9ca1","#af8eb5","#9499b7","#82b3c9","#82ada9","#aabb97","#cbc693","#cbae82","#a69b97","#9ea7aa"],n.courseColors=n.courseColorsLight;var s=(new Date).getHours();return(s>19||s<7)&&(document.documentElement.style.setProperty("--background","#121212"),document.documentElement.style.setProperty("--font-color","#fafafa"),document.documentElement.style.setProperty("--highlight","#9e9e9e25"),document.documentElement.style.setProperty("--accent","#1565c0c9"),document.documentElement.style.setProperty("--brightnessIcon","1"),n.courseColors=n.courseColorsDark),n}return Object(c.a)(a,[{key:"signUpdate",value:function(){this.setState({signStatus:g.a.sign})}},{key:"loadSyncData",value:function(){var e=this;h.a.getItem("calendarIDKey").then((function(t){void 0!==t&&""!==t?(e.setState({calendarID:t}),g.a.setCalendar(t)):(e.setState({calendarID:"primary"}),g.a.setCalendar("primary"))})),h.a.getItem("numEventsKey").then((function(t){null!==t&&""!==t?e.setState({numEvents:t}):e.setState({numEvents:20})})),h.a.getItem("hoursBefore").then((function(t){null!==t&&""!==t?e.setState({hoursBefore:t}):e.setState({hoursBefore:0})})),h.a.getItem("lastSort").then((function(t){null!==t&&""!==t?e.setState({lastSort:t}):e.setState({lastSort:"sortDate"})}))}},{key:"componentDidMount",value:function(){this.loadSyncData()}},{key:"sortCalendarObjects",value:function(e){this.state.signStatus&&("sortName"===e?(h.a.setItem("lastSort","sortName"),this.setState({calendarObjects:L(this.state.calendarObjects)})):"sortDate"===e?(h.a.setItem("lastSort","sortDate"),this.setState({calendarObjects:W(this.state.calendarObjects)})):"sortCourse"===e?(h.a.setItem("lastSort","sortCourse"),this.setState({calendarObjects:x(this.state.calendarObjects)})):"sortCheck"===e&&(h.a.setItem("lastSort","sortCheck"),this.setState({calendarObjects:H(this.state.calendarObjects)})))}},{key:"handleItemClick",value:function(e,t){var a=this;if("signIn"===t)g.a.handleAuthClick();else if("signOut"===t)g.a.handleSignoutClick();else if("log"===t)g.a.sign&&M(10,this.state.hoursBefore).then((function(e){var t=e.result;console.log(t.items)}));else if("logStored"===t)console.log(this.state.calendarObjects);else if("changeName"===t)g.a.sign&&M(1,this.state.hoursBefore).then((function(e){var t=e.result,a={summary:"\u2714\ufe0f"+t.items[0].summary};g.a.updateEvent(a,t.items[0].id).then(console.log)}));else if("populate"===t)g.a.sign&&M(this.state.numEvents,this.state.hoursBefore).then((function(e){var t=e.result.items;a.setState({calendarObjects:t})}));else if("sortName"===t)this.sortCalendarObjects("sortName");else if("sortCourse"===t)this.sortCalendarObjects("sortCourse");else if("sortDate"===t)this.sortCalendarObjects("sortDate");else if("addEvent"===t){var n={summary:"addTest",start:{dateTime:"2020-09-13T08:00:00-02:00"},end:{dateTime:"2020-09-13T08:00:00-04:00"},status:"confirmed"};g.a.sign&&(null!=this.state.calendarID?g.a.createEvent(n,this.state.calendarID):g.a.createEvent(n).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))}}},{key:"updateDone",value:function(e){for(var t=0;t<this.state.calendarObjects.length;t++)if(this.state.calendarObjects[t].id===e)return void(!0===this.state.calendarObjects[t].done?(this.state.calendarObjects[t].done=!1,this.setState({calendarObjects:this.state.calendarObjects})):(this.state.calendarObjects[t].done=!0,this.setState({calendarObjects:this.state.calendarObjects})))}},{key:"refreshWholeList",value:function(){var e=this;g.a.sign&&(this.loadSyncData(),M(this.state.numEvents,this.state.hoursBefore).then((function(t){for(var a=t.result.items,n=0;n<a.length;n++)void 0!==a[n].summary&&a[n].summary.length>=2&&"\u2714\ufe0f"===a[n].summary.substring(0,2)?a[n].done=!0:a[n].done=!1;e.setState({calendarObjects:a}),e.sortCalendarObjects(e.state.lastSort)})))}},{key:"render",value:function(){var e="none",t="none";return e=this.state.signStatus?"none":"",t=this.state.calendarObjects.length<=0&&this.state.signStatus?"":"none",s.a.createElement("div",{className:"screen"},s.a.createElement(T,{content:"Tasks"}),s.a.createElement(I,{calendarObjects:this.state.calendarObjects,courseColors:this.courseColors,hoursBefore:this.state.hoursBefore,sortCalendarObjects:this.sortCalendarObjects,updateDone:this.updateDone}),s.a.createElement(D,{refreshWholeList:this.refreshWholeList,signStatus:this.state.signStatus}),s.a.createElement(k,{refreshWholeList:this.refreshWholeList,signStatus:this.state.signStatus}),s.a.createElement("div",{className:"alert alert-danger fadeIn",role:"alert",style:{display:e,animationDelay:"600ms",position:"fixed",bottom:"1%"}},"You are not signed-in. Sign-in in the settings."),s.a.createElement("div",{className:"alert alert-warning fadeIn",role:"alert",style:{display:t,animationDelay:"600ms",position:"fixed",bottom:"1%"}},"There are no events for this calendar. Add some and refresh to view. If this is the first time loading, hit refresh!"))}}]),a}(s.a.Component));function S(e){return s.a.createElement("div",{className:"button"},e.label)}var k=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={show:!1},n}return Object(c.a)(a,[{key:"handleItemClick",value:function(e,t){"refresh"===t&&(this.props.refreshWholeList(),this.setState({show:!0}))}},{key:"render",value:function(){var e=this,t="";return t=this.props.signStatus?"Refreshed!":"You are not signed in!",s.a.createElement("div",null,s.a.createElement(v.a,{onClose:function(){return e.setState({show:!1})},show:this.state.show,delay:1500,autohide:!0,style:{position:"fixed",bottom:"1%",right:"1%"}},s.a.createElement(v.a.Header,null,s.a.createElement("strong",{className:"mr-auto"},t))),s.a.createElement("img",{alt:"refresh",onClick:function(t){return e.handleItemClick(t,"refresh")},src:E.a,className:"refreshIcon"}))}}]),a}(s.a.Component),D=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={settingsOpen:!1,signStatus:n.props.signStatus},n.loadInputs=n.loadInputs.bind(Object(i.a)(n)),n}return Object(c.a)(a,[{key:"handleItemClick",value:function(e,t){"openSettings"===t?(this.loadInputs(),this.setState({settingsOpen:!0})):"closeSettings"===t?(this.loadInputs(),this.props.refreshWholeList(),this.setState({settingsOpen:!1})):"signInOut"===t&&(this.props.signStatus?g.a.handleSignoutClick():g.a.handleAuthClick())}},{key:"loadInputs",value:function(){var e=this;h.a.getItem("calendarIDKey").then((function(t){null!==t&&(e.setState({calendarID:t}),""!==t&&g.a.setCalendar(t))})),h.a.getItem("numEventsKey").then((function(t){null!==t?e.setState({numEvents:t}):e.setState({numEvents:20})})),h.a.getItem("hoursBefore").then((function(t){null!==t?e.setState({hoursBefore:t}):e.setState({hoursBefore:5})}))}},{key:"handleChange",value:function(e){"calendarID"===e.target.name?(h.a.setItem("calendarIDKey",e.target.value),""!==e.target.value&&g.a.setCalendar(e.target.value)):"numEvents"===e.target.name?h.a.setItem("numEventsKey",e.target.value):"hoursBefore"===e.target.name&&h.a.setItem("hoursBefore",e.target.value)}},{key:"render",value:function(){var e,t=this;return e=this.props.signStatus?"Logout":"Login",s.a.createElement("div",null,s.a.createElement("img",{alt:"open settings",onClick:function(e){return t.handleItemClick(e,"openSettings")},src:C.a,className:"settingsIcon"}),s.a.createElement(f.a,{show:this.state.settingsOpen,onHide:function(e){return t.handleItemClick(e,"closeSettings")},size:"lg"},s.a.createElement(f.a.Header,{closeButton:!0},s.a.createElement(f.a.Title,null,"Settings")),s.a.createElement(f.a.Body,null,s.a.createElement(b.a,null,s.a.createElement(b.a.Group,null,s.a.createElement(b.a.Label,null,"Calendar ID"),s.a.createElement(b.a.Control,{name:"calendarID",onChange:this.handleChange,placeholder:"example@group.calendar.google.com",defaultValue:this.state.calendarID}),s.a.createElement(b.a.Text,{className:"text-muted"},"By keeping this blank it will be the default calendar. Refresh webpage to see changes. To reset this field, remove everything and refresh the webpage.")),s.a.createElement(b.a.Group,null,s.a.createElement(b.a.Label,null,"Number of events to load"),s.a.createElement(b.a.Control,{name:"numEvents",onChange:this.handleChange,placeholder:"20",defaultValue:this.state.numEvents}),s.a.createElement(b.a.Text,{className:"text-muted"},"The number of upcoming events to load from the calendar. Refresh to see changes.")),s.a.createElement(b.a.Group,null,s.a.createElement(b.a.Label,null,"Number of hours before to load"),s.a.createElement(b.a.Control,{name:"hoursBefore",onChange:this.handleChange,placeholder:"0",defaultValue:this.state.hoursBefore}),s.a.createElement(b.a.Text,{className:"text-muted"},"How many hours before the current time to list events from. Refresh to see changes."))),s.a.createElement("p",null,s.a.createElement("b",null,"Course codes"),' have the following format; at the beginning of an event name: "XXX999" or "XXX9999". ',s.a.createElement("br",null),"3 letters followed by 3 or 4 numbers."),s.a.createElement("p",null,"You can sort each category by clicking each category header."),s.a.createElement("p",null,"Closing settings will load the calendar. A refresh is required once logged in for the first time!")),s.a.createElement(f.a.Footer,null,s.a.createElement("div",{onClick:function(e){return t.handleItemClick(e,"signInOut")},style:{left:"5px",position:"absolute"}},s.a.createElement(S,{label:e})),s.a.createElement(p.a,{variant:"secondary",onClick:function(e){return t.handleItemClick(e,"closeSettings")}},"Close"))))}}]),a}(s.a.Component),I=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"tasks"},s.a.createElement(N,{calendarObjects:this.props.calendarObjects,courseColors:this.props.courseColors,hoursBefore:this.props.hoursBefore,sortCalendarObjects:this.props.sortCalendarObjects,updateDone:this.props.updateDone}))}}]),a}(s.a.Component);function N(e){for(var t,a=[],n="",r="",o="",l=0;l<e.calendarObjects.length;l++){n=void 0!==e.calendarObjects[l].summary&&e.calendarObjects[l].summary.length>=2&&"\u2714\ufe0f"===e.calendarObjects[l].summary.substring(0,2)?e.calendarObjects[l].summary.substring(2):e.calendarObjects[l].summary;var c=B(new Date(e.calendarObjects[l].start.dateTime));"All day"===c&&(c=B(new Date(e.calendarObjects[l].start.date)));var i=A(new Date(e.calendarObjects[l].start.dateTime));U(e.calendarObjects[l].summary)!==e.calendarObjects[l].summary?(t=(r=J(e.calendarObjects[l].summary)).length>6?r.charCodeAt(0)+r.charCodeAt(1)+r.charCodeAt(2)+r.charCodeAt(3)+r.charCodeAt(4)+r.charCodeAt(5)+r.charCodeAt(6):r.charCodeAt(0)+r.charCodeAt(1)+r.charCodeAt(2)+r.charCodeAt(3)+r.charCodeAt(4)+r.charCodeAt(5),o=e.courseColors[t%e.courseColors.length],n=U(e.calendarObjects[l].summary)):(r="",t=-1,o=""),a.push(s.a.createElement(w,{name:n,date:c,time:i,course:r,courseColor:o,done:e.calendarObjects[l].done,id:e.calendarObjects[l].id,hoursBefore:e.hoursBefore,updateDone:e.updateDone}))}return s.a.createElement("div",{className:"taskTable"},s.a.createElement("table",{className:"taskList"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"course header3",onClick:function(t){e.sortCalendarObjects("sortCourse")}},s.a.createElement("div",{className:"hoverSort"},"Course")),s.a.createElement("th",{className:"check header3",onClick:function(t){e.sortCalendarObjects("sortCheck")}},s.a.createElement("div",{className:"hoverSort"},"\u2714\ufe0f")),s.a.createElement("th",{className:"task header3",onClick:function(t){e.sortCalendarObjects("sortName")}},s.a.createElement("div",{className:"hoverSort"},"Task")),s.a.createElement("th",{className:"date header3",onClick:function(t){e.sortCalendarObjects("sortDate")}},s.a.createElement("div",{className:"hoverSort"},"Date")),s.a.createElement("th",{className:"time header3",onClick:function(t){e.sortCalendarObjects("sortDate")}},s.a.createElement("div",{className:"hoverSort"},"Time"))),a)))}var w=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleItemClick=n.handleItemClick.bind(Object(i.a)(n)),n.state={checked:n.props.done},n}return Object(c.a)(a,[{key:"handleItemClick",value:function(e,t){var a=this;"checkOff"===t?g.a.sign&&M(1,this.props.hoursBefore).then((function(e){e.result;if(""!==a.props.course){var t={summary:"\u2714\ufe0f"+a.props.course+" "+a.props.name};g.a.updateEvent(t,a.props.id).then(a.props.updateDone(a.props.id))}else{var n={summary:"\u2714\ufe0f"+a.props.name};g.a.updateEvent(n,a.props.id).then(a.props.updateDone(a.props.id))}})):"uncheckOff"===t&&g.a.sign&&M(1,this.props.hoursBefore).then((function(e){e.result;if(""!==a.props.course){var t={summary:a.props.course+" "+a.props.name};g.a.updateEvent(t,a.props.id).then(a.props.updateDone(a.props.id))}else{var n={summary:a.props.name};g.a.updateEvent(n,a.props.id).then(a.props.updateDone(a.props.id))}}))}},{key:"render",value:function(){var e=this,t="none",a="",n="",r="checkOff",o="#64b5f6";return!0===this.props.done&&(t="line-through",a="&#10004;",n="#777777",r="uncheckOff"),o=""!==this.props.courseColor?this.props.courseColor:"#64b5f6",s.a.createElement("tr",{className:"taskEntry fadeIn"},s.a.createElement("td",{className:"course"},this.props.course),s.a.createElement("td",{style:{backgroundColor:o},className:"check",onClick:function(t){return e.handleItemClick(t,r)}},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),s.a.createElement("td",{className:"task",style:{textDecoration:t,color:n}},this.props.name),s.a.createElement("td",{className:"date"},this.props.date),s.a.createElement("td",{className:"time"},this.props.time))}}]),a}(s.a.Component);function B(e){if(isNaN(e.getMonth())&&isNaN(e.getDay())&&isNaN(e.getDate()))return"All day";var t="",a="";return 0===e.getDay()?t="Sunday":1===e.getDay()?t="Monday":2===e.getDay()?t="Tuesday":3===e.getDay()?t="Wednesday":4===e.getDay()?t="Thursday":5===e.getDay()?t="Friday":6===e.getDay()&&(t="Saturday"),0===e.getMonth()?a="Jan.":1===e.getMonth()?a="Feb.":2===e.getMonth()?a="Mar.":3===e.getMonth()?a="Apr.":4===e.getMonth()?a="May":5===e.getMonth()?a="June":6===e.getMonth()?a="July":7===e.getMonth()?a="Aug.":8===e.getMonth()?a="Sept.":9===e.getMonth()?a="Oct.":10===e.getMonth()?a="Nov.":11===e.getMonth()&&(a="Dec."),t+" "+a+" "+e.getDate()}function A(e){if(isNaN(e.getHours())&&isNaN(e.getMinutes()))return"All day";var t=e.getMinutes();return t<=9&&(t="0"+t),e.getHours()+":"+t}function T(e){return s.a.createElement("div",{className:"header1"},e.content)}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.a.calendar,n=new Date;return n.setHours(n.getHours()-t),g.a.gapi?g.a.gapi.client.calendar.events.list({calendarId:a,timeMin:n.toISOString(),showDeleted:!1,singleEvents:!0,maxResults:e,orderBy:"startTime"}):(console.log("Error: this.gapi not loaded"),!1)}function L(e){var t=e;return t.sort((function(e,t){var a,n;return(a=void 0===U(e.summary)?"undefined":U(e.summary).toUpperCase())<(n=void 0===U(t.summary)?"undefined":U(t.summary).toUpperCase())?-1:a>n?1:0})),t}function x(e){var t=e;return t.sort((function(e,t){var a=J(e.summary).toUpperCase(),n=J(t.summary).toUpperCase();return a<n?-1:a>n?1:0})),t}function W(e){var t=e;return t.sort((function(e,t){var a=K(e.start),n=K(t.start);return a<n?-1:a>n?1:0})),t}function H(e){var t,a,n=e;return n.sort((function(e,n){return t=!0===e.done?"zdone":"notDone",a=!0===n.done?"zdone":"notDone",t<a?-1:t>a?1:0})),n}function K(e){return void 0!==e.dateTime?new Date(e.dateTime).valueOf():void 0!==e.date?new Date(e.date).valueOf():0}function U(e){var t;return t=void 0!==e&&e.length>=2&&"\u2714\ufe0f"===e.substring(0,2)?e.substring(2):e,void 0!==e&&t.length>7&&/^\d+$/.test(t.substring(3,7))&&!/\d/.test(t.substring(0,3))?t=" "!==t.substring(7,8)?t.substring(7):t.substring(8):void 0!==e&&t.length>6&&/^\d+$/.test(t.substring(3,6))&&!/\d/.test(t.substring(0,3))&&(t=" "!==t.substring(6,7)?t.substring(6):t.substring(7)),t}function J(e){var t;return t=void 0!==e&&e.length>=2&&"\u2714\ufe0f"===e.substring(0,2)?e.substring(2):e,void 0!==e&&t.length>7&&/^\d+$/.test(t.substring(3,7))&&!/\d/.test(t.substring(0,3))?t.substring(0,7):void 0!==e&&t.length>6&&/^\d+$/.test(t.substring(3,6))&&!/\d/.test(t.substring(0,3))?t.substring(0,6):""}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.2b29cb36.chunk.js.map